import{A as fe,B as f,t as U,H as je,D as N,r as i,b as W,a as o,j as s,G as ze}from"./index-8aad3025.js";import{p as Ae,o as d,b as Le,c as Be,d as Fe,h as Ve,q as _e,k as K,v as ve,r as ke,D as Ke,t as Ue,w as be,x as We,y as Ge,z as Pe,m as Je}from"./Input-fa4742f3.js";const Xe=["root","counterDisabled","gutter","overloaded"],Ye=fe(Xe,"HvCharCounter"),m=Ye;function R(){return R=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},R.apply(this,arguments)}const Ze=f("div",R({},{target:"e11kw0681"},N))(({$counterDisabled:t,$gutter:r})=>({display:"inline-block",float:"right",...t&&{color:U.colors.secondary_60},...r&&{paddingLeft:"6px"}}),""),pe=f(je,R({},{target:"e11kw0680"},N))(({$overloaded:t,$counterDisabled:r})=>({...t&&{color:U.colors.negative},...r&&{color:U.colors.secondary_60}}),""),qe=({separator:t="/",maxCharQuantity:r,currentCharQuantity:e=0,classes:l,className:I,id:x,disabled:T,disableGutter:h=!1,...D})=>{const{elementId:v,elementDisabled:u}=i.useContext(Ae),a=T||u,y=x??d(v,"counter"),j=d(y,"currentQuantity"),z=d(y,"maxQuantity"),S=e>r;return W(Ze,{id:y,className:o(I,m.root,l==null?void 0:l.root,a&&o(m.counterDisabled,l==null?void 0:l.counterDisabled),!h&&o(m.gutter,l==null?void 0:l.gutter)),$counterDisabled:!!a,$gutter:!h,"aria-live":"polite","aria-disabled":a,...D,children:[s(pe,{id:j,className:o(S&&!a&&o(m.overloaded,l==null?void 0:l.overloaded),a&&o(m.counterDisabled,l==null?void 0:l.counterDisabled)),variant:"label",component:"label",$overloaded:S&&!a,$counterDisabled:!!a,children:e}),s(pe,{id:z,className:o(S&&!a&&o(m.overloaded,l==null?void 0:l.overloaded),a&&o(m.counterDisabled,l==null?void 0:l.counterDisabled)),variant:"body",component:"label",$overloaded:S&&!a,$counterDisabled:!!a,children:` ${t} ${r}`})]})},Me=["root","disabled","resizable","invalid","baseInput","input","inputResizable","labelContainer","label","description","characterCounter","error"],Qe=fe(Me,"HvTextArea"),c=Qe;function O(){return O=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},O.apply(this,arguments)}const et=f(t=>s(Le,{...t}),O({},{target:"e1e5t49x6"},N))(({$resizable:t})=>({display:"inline-block",width:"100%",...t&&{width:"100%"}}),""),tt=f("div",{target:"e1e5t49x5"})({name:"pah21w",styles:"float:left;display:flex;align-items:flex-start"}),nt=f(t=>s(Be,{...t}),{target:"e1e5t49x4"})({name:"ip3328",styles:"display:block;float:left;padding-bottom:6px"}),lt=f(t=>s(Fe,{...t}),{target:"e1e5t49x3"})({name:"1en9548",styles:"display:block;float:left"}),ot=f(t=>s(qe,{...t}),{target:"e1e5t49x2"})({name:"bui2ra",styles:"display:block;float:right;text-align:right;margin-bottom:6px"}),rt=f(t=>s(Ve,{...t}),{target:"e1e5t49x1"})({name:"g0dsyy",styles:"float:left"}),at=f(t=>s(_e,{...t}),O({},{target:"e1e5t49x0"},N))(({$resizable:t})=>({clear:"both",float:"left",...t&&{width:"100%",resize:"both"}}),""),st=({id:t,className:r,classes:e,name:l,label:I,description:x,placeholder:T,status:h,statusMessage:D,validationMessages:v,maxCharQuantity:u,minCharQuantity:a,value:y,inputRef:j,rows:z=1,defaultValue:S="",middleCountLabel:ge="/",countCharProps:me={},inputProps:G={},required:H=!1,readOnly:P=!1,disabled:A=!1,autoFocus:he=!1,resizable:E=!1,autoScroll:L=!1,hideCounter:ye=!1,blockMax:B=!1,"aria-label":Se,"aria-labelledby":Ce,"aria-describedby":J,"aria-errormessage":X,validation:F,onChange:Y,onBlur:Z,onFocus:q,...xe})=>{const g=ze(t,"hvtextarea"),M=i.useRef(!1),He=i.useRef(null),b=j||He,[Q,ee]=i.useState(!1),[te,Ie]=i.useState(L),[ne,V]=K(h,ve.standBy),[De,le]=K(D,""),[p,Ee]=K(y,S),$=ke(ne),w=p==null||p==="",_=I!=null,oe=x!=null,$e=u!=null&&!ye,re=i.useMemo(()=>({...Ke,...v}),[v==null?void 0:v.error,v==null?void 0:v.requiredError,v==null?void 0:v.minCharError,v==null?void 0:v.maxCharError]),k=i.useCallback(()=>{const n=Ue(b.current,p,H,a,u,be.none,F);return V(We(n,w)),le(Ge(n,re)),n},[re,b,w,u,a,H,le,V,F,p]),we=n=>Je(u)?!1:n.length>u,Re=n=>n===void 0||!B?n:we(n)?n.substring(0,u):n,Oe=n=>{ee(!1);const C=k();Z==null||Z(n,p,C)},Ne=(n,C)=>{M.current=!0;const ce=B?Re(C):C;Ee(ce),Y==null||Y(n,ce)},Te=n=>{ee(!0),V(ve.standBy),q==null||q(n,p)},ae=i.useCallback(()=>{const n=b.current;return n==null||n.offsetHeight+n.scrollTop>=n.scrollHeight},[b]),ie=i.useCallback(()=>{const n=b.current;n!=null&&(n.scrollTop=n.scrollHeight-n.clientHeight)},[b]),de=i.useCallback(()=>{var n;const C={handleEvent:()=>{Ie(ae())}};(n=b.current)==null||n.addEventListener("scroll",C)},[b,ae]);i.useEffect(()=>{L&&de()},[L,de]),i.useEffect(()=>{te&&ie()},[y,te,ie]),i.useEffect(()=>{Q||!M.current&&w||k()},[Q,w,k]);const se=X==null&&(h!==void 0&&D!==void 0||h===void 0&&Pe(H,be.none,a,u!=null&&(B!==!0||p!=null)?u:null,F,G));let ue;return $&&(ue=se?d(g,"error"):X),W(et,{id:t,name:l,status:ne,disabled:A,required:H,readOnly:P,className:o(c.root,e==null?void 0:e.root,r,E&&o(c.resizable,e==null?void 0:e.resizable),A&&o(c.disabled,e==null?void 0:e.disabled),$&&o(c.invalid,e==null?void 0:e.invalid)),$resizable:E,onBlur:Oe,children:[(_||oe)&&W(tt,{className:o(c.labelContainer,e==null?void 0:e.labelContainer),children:[_&&s(nt,{className:o(c.label,e==null?void 0:e.label),id:d(t,"label"),htmlFor:d(g,"input"),label:I}),oe&&s(lt,{className:o(c.description,e==null?void 0:e.description),id:d(g,"description"),children:x})]}),$e&&s(ot,{id:d(g,"charCounter"),className:o(c.characterCounter,e==null?void 0:e.characterCounter),separator:ge,currentCharQuantity:p.length,maxCharQuantity:u,...me}),s(at,{classes:{root:o(c.baseInput,e==null?void 0:e.baseInput),input:o(c.input,e==null?void 0:e.input),inputResizable:o(c.inputResizable,e==null?void 0:e.inputResizable)},id:_?d(g,"input"):d(t,"input"),name:l,value:p,required:H,readOnly:P,disabled:A,onChange:Ne,autoFocus:he,onFocus:Te,placeholder:T,invalid:$,resizable:E,multiline:!0,rows:z,inputProps:{"aria-label":Se,"aria-labelledby":Ce,"aria-invalid":$?!0:void 0,"aria-errormessage":ue,"aria-describedby":J??(x&&d(g,"description")||void 0),"aria-controls":u?d(g,"charCounter"):void 0,...G},inputRef:b,$resizable:E,...xe}),se&&s(rt,{id:d(g,"error"),className:o(c.error,e==null?void 0:e.error),disableBorder:!0,children:De})]})};export{st as H,qe as a};
